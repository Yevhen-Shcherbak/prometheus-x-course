"use strict";(self.webpackChunkprometheus_x_course=self.webpackChunkprometheus_x_course||[]).push([[799],{2799:(e,s,t)=>{t.r(s),t.d(s,{default:()=>z});var a=t(5043),n=t(3519),r=t(8628),l=t(4282),i=t(8139),o=t.n(i),c=t(7852),d=t(579);const m=a.forwardRef(((e,s)=>{let{bsPrefix:t,size:a,vertical:n=!1,className:r,role:l="group",as:i="div",...m}=e;const u=(0,c.oU)(t,"btn-group");let x=u;return n&&(x="".concat(u,"-vertical")),(0,d.jsx)(i,{...m,ref:s,role:l,className:o()(r,x,a&&"".concat(u,"-").concat(a))})}));m.displayName="ButtonGroup";const u=m;var x=t(1072),h=t(8602),f=t(6723),j=t(9109);const p=2**31-1;function b(e,s,t){const a=t-Date.now();e.current=a<=p?setTimeout(s,a):setTimeout((()=>b(e,s,t)),p)}function N(){const e=(0,f.A)(),s=(0,a.useRef)();return(0,j.A)((()=>clearTimeout(s.current))),(0,a.useMemo)((()=>{const t=()=>clearTimeout(s.current);return{set:function(a){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e()&&(t(),n<=p?s.current=setTimeout(a,n):b(s,a,Date.now()+n))},clear:t,handleRef:s}}),[])}var A=t(8062),g=t(8072);const v={[A.ns]:"showing",[A.ze]:"showing show"},y=a.forwardRef(((e,s)=>(0,d.jsx)(g.A,{...e,ref:s,transitionClasses:v})));y.displayName="ToastFade";const w=y;var C=t(1456),T=t(5632);const E=a.createContext({onClose(){}}),k=a.forwardRef(((e,s)=>{let{bsPrefix:t,closeLabel:n="Close",closeVariant:r,closeButton:l=!0,className:i,children:m,...u}=e;t=(0,c.oU)(t,"toast-header");const x=(0,a.useContext)(E),h=(0,C.A)((e=>{null==x||null==x.onClose||x.onClose(e)}));return(0,d.jsxs)("div",{ref:s,...u,className:o()(t,i),children:[m,l&&(0,d.jsx)(T.A,{"aria-label":n,variant:r,onClick:h,"data-dismiss":"toast"})]})}));k.displayName="ToastHeader";const S=k,B=a.forwardRef(((e,s)=>{let{className:t,bsPrefix:a,as:n="div",...r}=e;return a=(0,c.oU)(a,"toast-body"),(0,d.jsx)(n,{ref:s,className:o()(t,a),...r})}));B.displayName="ToastBody";const R=B,P=a.forwardRef(((e,s)=>{let{bsPrefix:t,className:n,transition:r=w,show:l=!0,animation:i=!0,delay:m=5e3,autohide:u=!1,onClose:x,onEntered:h,onExit:f,onExiting:j,onEnter:p,onEntering:b,onExited:A,bg:g,...v}=e;t=(0,c.oU)(t,"toast");const y=(0,a.useRef)(m),C=(0,a.useRef)(x);(0,a.useEffect)((()=>{y.current=m,C.current=x}),[m,x]);const T=N(),k=!(!u||!l),S=(0,a.useCallback)((()=>{k&&(null==C.current||C.current())}),[k]);(0,a.useEffect)((()=>{T.set(S,y.current)}),[T,S]);const B=(0,a.useMemo)((()=>({onClose:x})),[x]),R=!(!r||!i),P=(0,d.jsx)("div",{...v,ref:s,className:o()(t,n,g&&"bg-".concat(g),!R&&(l?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"});return(0,d.jsx)(E.Provider,{value:B,children:R&&r?(0,d.jsx)(r,{in:l,onEnter:p,onEntering:b,onEntered:h,onExit:f,onExiting:j,onExited:A,unmountOnExit:!0,children:P}):P})}));P.displayName="Toast";const I=Object.assign(P,{Body:R,Header:S});var D=t(9922),O=t(1521);function z(e){let{bookData:s}=e;const[i,o]=(0,a.useState)(1),[c,m]=(0,a.useState)(!1),[f,j]=(0,a.useState)(!1),{cartData:p,setCartData:b}=(0,a.useContext)(O.A),[N,A]=(0,a.useState)(!1),[g,v]=(0,a.useState)(!1);(0,a.useEffect)((()=>window.scrollTo({top:0,behavior:"instant"})),[]),(0,a.useEffect)((()=>{!s.amount||i<2?m(!0):m(!1),!s.amount||i>=s.amount?j(!0):j(!1)}),[i]);const y=()=>!s.amount;return(0,d.jsx)(a.Suspense,{fallback:(0,d.jsx)(D.A,{}),children:(0,d.jsxs)(n.A,{className:"d-flex flex-wrap justify-content-evenly gap-4 p-2 p-sm-3",expand:"sm",children:[(0,d.jsxs)(r.A,{className:"p-2 p-sm-3 m-0",style:{maxWidth:"40rem"},children:[(0,d.jsxs)(n.A,{className:"d-flex flex-column flex-lg-row p-0 border-bottom border-secondary",children:[(0,d.jsx)("div",{className:"d-flex align-items-center",children:(0,d.jsx)(r.A.Img,{src:s.image||t(6740),style:{maxWidth:"18rem",maxHeight:"24rem"},className:"object-fit-contain p-1 p-sm-3 m-auto"})}),(0,d.jsxs)(r.A.Body,{children:[(0,d.jsx)(r.A.Title,{className:"mb-3",children:s.title}),(0,d.jsxs)(r.A.Text,{className:"mb-2",children:[(0,d.jsx)("span",{className:"fw-semibold",children:"Author:"})," ",s.author]}),(0,d.jsxs)(r.A.Text,{className:"mb-2",children:[(0,d.jsx)("span",{className:"fw-semibold",children:"Book level:"})," ",s.level]}),(0,d.jsxs)(r.A.Text,{className:"mb-2",children:[(0,d.jsx)("span",{className:"fw-semibold",children:"Book tags:"})," ",s.tags.join(", ")]}),(0,d.jsxs)(r.A.Text,{className:"mb-2",children:[(0,d.jsx)("span",{className:"fw-semibold",children:"Available amount:"})," ",s.amount?(0,d.jsx)("span",{className:"fw-semibold text-success",children:s.amount}):(0,d.jsx)("span",{className:"fw-semibold text-danger",children:"out of stock"})]})]})]}),(0,d.jsx)(n.A,{children:(0,d.jsx)(r.A.Text,{className:"pt-3 pb-2",children:s.description})})]}),(0,d.jsxs)(r.A,{className:"align-self-start p-2 p-sm-3 m-0 mb-4 gap-2",style:{minWidth:"20rem"},children:[(0,d.jsxs)(x.A,{children:[(0,d.jsx)(h.A,{children:(0,d.jsx)(r.A.Title,{className:"fs-5 m-0",children:"Price, $"})}),(0,d.jsx)(h.A,{children:(0,d.jsx)(r.A.Text,{className:"m-0 text-end",children:s.price})})]}),(0,d.jsxs)(x.A,{children:[(0,d.jsx)(h.A,{children:(0,d.jsx)(r.A.Title,{className:"fs-5 m-0 h-100 align-middle",children:"Count"})}),(0,d.jsx)(h.A,{className:"d-flex justify-content-end",children:(0,d.jsxs)(u,{"aria-label":"Basic example",size:"sm",children:[(0,d.jsx)(l.A,{variant:"primary",style:{width:"2rem"},disabled:c,onClick:()=>o(i-1),children:"-"}),(0,d.jsx)("input",{className:"books-input-number bg-secondary fs-5 m-0 text-center border-0",style:{width:"3rem"},type:"number",value:i,onChange:e=>{var t;(t=+e.target.value)<1||!Number.isInteger(t)?o(1):t>s.amount||!Number.isInteger(t)?o(s.amount):o(t)},disabled:y()}),(0,d.jsx)(l.A,{variant:"primary",style:{width:"2rem"},disabled:f,onClick:()=>o(i+1),children:"+"})]})})]}),(0,d.jsxs)(x.A,{children:[(0,d.jsx)(h.A,{children:(0,d.jsx)(r.A.Title,{className:"fs-5 m-0",children:"Total price, $"})}),(0,d.jsx)(h.A,{children:(0,d.jsx)(r.A.Text,{className:"m-0 text-end",children:(s.price*i).toFixed(2)})})]}),(0,d.jsx)(x.A,{style:{height:"3rem"},children:(0,d.jsx)(h.A,{className:"toast-container",children:(0,d.jsx)(I,{onClose:()=>A(!1),show:N,delay:2e3,autohide:!0,bg:g?"danger":"success",style:{opacity:.5},children:(0,d.jsx)(I.Body,{className:"text-white",children:g?"Over limit. Please visit cart to edit":"Added to cart. Please visit cart to edit"})})})}),(0,d.jsx)(x.A,{children:(0,d.jsx)(h.A,{className:"d-flex justify-content-end",children:(0,d.jsx)(l.A,{variant:"primary",size:"sm",className:"w-50",onClick:()=>{!function(){o(1);const e={id:s.id,bookName:s.title,amount:i},t=p,a=t.findIndex((s=>s.id===e.id));-1===a?t.push(e):p[a].amount+i>=43?(v(!0),t[a].amount=42):t[a].amount+=i;localStorage.setItem("cart",JSON.stringify(t)),b(JSON.parse(localStorage.getItem("cart")))}(),A(!0)},disabled:y(),children:"Add to Cart"})})})]})]})})}},6740:(e,s,t)=>{e.exports=t.p+"static/media/imageNotFound.298b98203c3825c61303.png"}}]);
//# sourceMappingURL=799.589a8569.chunk.js.map